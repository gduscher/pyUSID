

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyUSID.io.hdf_utils.simple &mdash; pyUSID 0.0.6.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/gallery.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="pyUSID.io.hdf_utils.model" href="pyUSID.io.hdf_utils.model.html" />
    <link rel="prev" title="pyUSID.io.hdf_utils.base" href="pyUSID.io.hdf_utils.base.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> pyUSID
          

          
          </a>

          
            
            
              <div class="version">
                0.0.6.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">pyUSID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../external_guides.html">Tutorials on Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../auto_examples/index.html">Examples &amp; Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_format.html">Data Schema and File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribution_guidelines.html">Guidelines for Contribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contact.html">Contact us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whats_new.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../matlab_to_python.html">Upgrading from Matlab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scale_to_hpc.html">Scaling to High-Performance-Computing Clusters</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../api.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../api.html#submodules">Submodules</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../pyUSID.io.html">pyUSID.io</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../pyUSID.io.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../pyUSID.io.hdf_utils.html">pyUSID.io.hdf_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pyUSID.io.dtype_utils.html">pyUSID.io.dtype_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pyUSID.io.image.html">pyUSID.io.image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pyUSID.io.io_utils.html">pyUSID.io.io_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pyUSID.io.numpy_translator.html">pyUSID.io.numpy_translator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pyUSID.io.usi_data.html">pyUSID.io.usi_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pyUSID.io.translator.html">pyUSID.io.translator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pyUSID.io.write_utils.html">pyUSID.io.write_utils</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyUSID.processing.html">pyUSID.processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pyUSID.viz.html">pyUSID.viz</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyUSID</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../api.html">API Reference</a> &raquo;</li>
        
          <li><a href="../../pyUSID.io.html">pyUSID.io</a> &raquo;</li>
        
          <li><a href="../pyUSID.io.hdf_utils.html">pyUSID.io.hdf_utils</a> &raquo;</li>
        
      <li>pyUSID.io.hdf_utils.simple</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/_autosummary/_autosummary/_autosummary/pyUSID.io.hdf_utils.simple.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pyUSID.io.hdf_utils.simple">
<span id="pyusid-io-hdf-utils-simple"></span><h1>pyUSID.io.hdf_utils.simple<a class="headerlink" href="#module-pyUSID.io.hdf_utils.simple" title="Permalink to this headline">¶</a></h1>
<p>Lower-level and simpler USID-specific HDF5 utilities that facilitate higher-level data operations</p>
<p>Created on Tue Nov  3 21:14:25 2015</p>
<p>&#64;author: Suhas Somnath, Chris Smith</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.assign_group_index" title="pyUSID.io.hdf_utils.simple.assign_group_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assign_group_index</span></code></a>(h5_parent_group, base_name)</p></td>
<td><p>Searches the parent h5 group to find the next available index for the group</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.check_and_link_ancillary" title="pyUSID.io.hdf_utils.simple.check_and_link_ancillary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_and_link_ancillary</span></code></a>(h5_dset, anc_names)</p></td>
<td><p>This function will add references to auxilliary datasets as attributes of an input dataset.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.check_for_matching_attrs" title="pyUSID.io.hdf_utils.simple.check_for_matching_attrs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_for_matching_attrs</span></code></a>(h5_obj[, …])</p></td>
<td><p>Compares attributes in the given H5 object against those in the provided dictionary and returns True if the parameters match, and False otherwise</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.check_for_old" title="pyUSID.io.hdf_utils.simple.check_for_old"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_for_old</span></code></a>(h5_base, tool_name[, …])</p></td>
<td><p>Check to see if the results of a tool already exist and if they were performed with the same parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.check_if_main" title="pyUSID.io.hdf_utils.simple.check_if_main"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_if_main</span></code></a>(h5_main[, verbose])</p></td>
<td><p>Checks the input dataset to see if it has all the necessary features to be considered a Main dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.copy_attributes" title="pyUSID.io.hdf_utils.simple.copy_attributes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_attributes</span></code></a>(source, dest[, skip_refs])</p></td>
<td><p>Copy attributes from one h5object to another</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.copy_main_attributes" title="pyUSID.io.hdf_utils.simple.copy_main_attributes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_main_attributes</span></code></a>(h5_main, h5_new)</p></td>
<td><p>Copies the units and quantity name from one dataset to another</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.copy_region_refs" title="pyUSID.io.hdf_utils.simple.copy_region_refs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_region_refs</span></code></a>(h5_source, h5_target)</p></td>
<td><p>Check the input dataset for plot groups, copy them if they exist Also make references in the Spectroscopic Values and Indices tables</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.create_empty_dataset" title="pyUSID.io.hdf_utils.simple.create_empty_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_empty_dataset</span></code></a>(source_dset, dtype, …)</p></td>
<td><p>Creates an empty dataset in the h5 file based on the provided dataset in the same or specified group</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.create_indexed_group" title="pyUSID.io.hdf_utils.simple.create_indexed_group"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_indexed_group</span></code></a>(h5_parent_group, base_name)</p></td>
<td><p>Creates a group with an indexed name (eg - ‘Measurement_012’) under h5_parent_group using the provided base_name as a prefix for the group’s name</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.create_results_group" title="pyUSID.io.hdf_utils.simple.create_results_group"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_results_group</span></code></a>(h5_main, tool_name)</p></td>
<td><p>Creates a h5py.Group object autoindexed and named as ‘DatasetName-ToolName_00x’</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.find_dataset" title="pyUSID.io.hdf_utils.simple.find_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_dataset</span></code></a>(h5_group, dset_name)</p></td>
<td><p>Uses visit() to find all datasets with the desired name</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.find_results_groups" title="pyUSID.io.hdf_utils.simple.find_results_groups"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_results_groups</span></code></a>(h5_main, tool_name)</p></td>
<td><p>Finds a list of all groups containing results of the process of name <cite>tool_name</cite> being applied to the dataset</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.get_all_main" title="pyUSID.io.hdf_utils.simple.get_all_main"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_all_main</span></code></a>(parent[, verbose])</p></td>
<td><p>Simple function to recursively print the contents of an hdf5 group</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.get_source_dataset" title="pyUSID.io.hdf_utils.simple.get_source_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_source_dataset</span></code></a>(h5_group)</p></td>
<td><p>Find the name of the source dataset used to create the input <cite>h5_group</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.link_as_main" title="pyUSID.io.hdf_utils.simple.link_as_main"><code class="xref py py-obj docutils literal notranslate"><span class="pre">link_as_main</span></code></a>(h5_main, h5_pos_inds, …)</p></td>
<td><p>Links the object references to the four position and spectroscopic datasets as attributes of <cite>h5_main</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.validate_anc_h5_dsets" title="pyUSID.io.hdf_utils.simple.validate_anc_h5_dsets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_anc_h5_dsets</span></code></a>(h5_inds, h5_vals, …)</p></td>
<td><p>Checks ancillary HDF5 datasets against shape of a main dataset.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.validate_dims_against_main" title="pyUSID.io.hdf_utils.simple.validate_dims_against_main"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_dims_against_main</span></code></a>(main_shape, dims)</p></td>
<td><p>Checks Dimension objects against a given shape for main datasets.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.validate_main_dset" title="pyUSID.io.hdf_utils.simple.validate_main_dset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_main_dset</span></code></a>(h5_main, must_be_h5)</p></td>
<td><p>Checks to make sure that the provided object is a USID main dataset Errors in parameters will result in Exceptions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.write_ind_val_dsets" title="pyUSID.io.hdf_utils.simple.write_ind_val_dsets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_ind_val_dsets</span></code></a>(h5_parent_group, dimensions)</p></td>
<td><p>Creates h5py.Datasets for the position OR spectroscopic indices and values of the data.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.write_reduced_anc_dsets" title="pyUSID.io.hdf_utils.simple.write_reduced_anc_dsets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_reduced_anc_dsets</span></code></a>(h5_parent_group, …)</p></td>
<td><p>Creates new Ancillary Indices and Values datasets from the input datasets by dropping the specified dimensions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pyUSID.io.hdf_utils.simple.write_reduced_spec_dsets" title="pyUSID.io.hdf_utils.simple.write_reduced_spec_dsets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_reduced_spec_dsets</span></code></a>(h5_parent_group, …)</p></td>
<td><p>Creates new Spectroscopic Indices and Values datasets from the input datasets and keeps the dimensions specified in keep_dim</p></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.assign_group_index">
<code class="sig-name descname">assign_group_index</code><span class="sig-paren">(</span><em class="sig-param">h5_parent_group</em>, <em class="sig-param">base_name</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#assign_group_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.assign_group_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the parent h5 group to find the next available index for the group</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_parent_group</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code> object) – Parent group under which the new group object will be created</p></li>
<li><p><strong>base_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>unicode</em>) – Base name of the new group without index</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. Default=False</em>) – Whether or not to print debugging statements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>base_name</strong> – Base name of the new group with the next available index as a suffix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a> or unicode</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.check_and_link_ancillary">
<code class="sig-name descname">check_and_link_ancillary</code><span class="sig-paren">(</span><em class="sig-param">h5_dset</em>, <em class="sig-param">anc_names</em>, <em class="sig-param">h5_main=None</em>, <em class="sig-param">anc_refs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#check_and_link_ancillary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.check_and_link_ancillary" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will add references to auxilliary datasets as attributes
of an input dataset.
If the entries in anc_refs are valid references, they will be added
as attributes with the name taken from the corresponding entry in
anc_names.
If an entry in anc_refs is not a valid reference, the function will
attempt to get the attribute with the same name from the h5_main
dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_dset</strong> (<em>HDF5 Dataset</em>) – dataset to which the attributes will be written</p></li>
<li><p><strong>anc_names</strong> (<em>list of str</em>) – the attribute names to be used</p></li>
<li><p><strong>h5_main</strong> (<em>HDF5 Dataset</em><em>, </em><em>optional</em>) – dataset from which attributes will be copied if <cite>anc_refs</cite> is None</p></li>
<li><p><strong>anc_refs</strong> (<em>list of HDF5 Object References</em><em>, </em><em>optional</em>) – references that correspond to the strings in <cite>anc_names</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Either <cite>h5_main</cite> or <cite>anc_refs</cite> MUST be provided and <cite>anc_refs</cite> has the
higher priority if both are present.</p>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.check_for_matching_attrs">
<code class="sig-name descname">check_for_matching_attrs</code><span class="sig-paren">(</span><em class="sig-param">h5_obj</em>, <em class="sig-param">new_parms=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#check_for_matching_attrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.check_for_matching_attrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares attributes in the given H5 object against those in the provided dictionary and returns True if
the parameters match, and False otherwise</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_obj</strong> (h5py object (Dataset or <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code>)) – Object whose attributes will be compared against new_parms</p></li>
<li><p><strong>new_parms</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional. default = empty dictionary</em>) – Parameters to compare against the attributes present in h5_obj</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em><em>, </em><em>default = False</em>) – Whether or not to print debugging statements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tests</strong> – Whether or not all paramters in new_parms matched with those in h5_obj’s attributes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.check_for_old">
<code class="sig-name descname">check_for_old</code><span class="sig-paren">(</span><em class="sig-param">h5_base</em>, <em class="sig-param">tool_name</em>, <em class="sig-param">new_parms=None</em>, <em class="sig-param">target_dset=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#check_for_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.check_for_old" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if the results of a tool already exist and if they
were performed with the same parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_base</strong> (<em>h5py.Dataset object</em>) – Dataset on which the tool is being applied to</p></li>
<li><p><strong>tool_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – process or analysis name</p></li>
<li><p><strong>new_parms</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>optional</em>) – Parameters with which this tool will be performed.</p></li>
<li><p><strong>target_dset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em><em>, </em><em>default = None</em>) – Name of the dataset whose attributes will be compared against new_parms.
Default - checking against the group</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em><em>, </em><em>default = False</em>) – Whether or not to print debugging statements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>group</strong> – List of all <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code> objects with parameters matching those in <cite>new_parms</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.check_if_main">
<code class="sig-name descname">check_if_main</code><span class="sig-paren">(</span><em class="sig-param">h5_main</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#check_if_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.check_if_main" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the input dataset to see if it has all the necessary
features to be considered a Main dataset.  This means it is
2D and has the following attributes:</p>
<ul class="simple">
<li><p>Position_Indices</p></li>
<li><p>Position_Values</p></li>
<li><p>Spectroscopic_Indices</p></li>
<li><p>Spectroscopic_Values</p></li>
<li><p>quantity</p></li>
<li><p>units</p></li>
</ul>
<p>In addition, the shapes of the ancillary matrices should match with that of h5_main</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_main</strong> (<em>HDF5 Dataset</em>) – Dataset of interest</p></li>
<li><p><strong>verbose</strong> (<em>Boolean</em><em> (</em><em>Optional. Default = False</em><em>)</em>) – Whether or not to print statements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>success</strong> – True if all tests pass</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.copy_attributes">
<code class="sig-name descname">copy_attributes</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">dest</em>, <em class="sig-param">skip_refs=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#copy_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.copy_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy attributes from one h5object to another</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (h5py.Dataset, <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code>, or <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.File</span></code>) – Object containing the desired attributes</p></li>
<li><p><strong>dest</strong> (h5py.Dataset, <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code>, or <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.File</span></code>) – Object to which the attributes need to be copied to</p></li>
<li><p><strong>skip_refs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. default = True</em>) – Whether or not the references (dataset and region) should be skipped</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.copy_main_attributes">
<code class="sig-name descname">copy_main_attributes</code><span class="sig-paren">(</span><em class="sig-param">h5_main</em>, <em class="sig-param">h5_new</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#copy_main_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.copy_main_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies the units and quantity name from one dataset to another</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_main</strong> (<em>h5py.Dataset</em>) – Dataset containing the target attributes</p></li>
<li><p><strong>h5_new</strong> (<em>h5py.Dataset</em>) – Dataset to which the target attributes are to be copied</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.copy_region_refs">
<code class="sig-name descname">copy_region_refs</code><span class="sig-paren">(</span><em class="sig-param">h5_source</em>, <em class="sig-param">h5_target</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#copy_region_refs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.copy_region_refs" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the input dataset for plot groups, copy them if they exist
Also make references in the Spectroscopic Values and Indices tables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_source</strong> (<em>HDF5 Dataset</em>) – source dataset to copy references from</p></li>
<li><p><strong>h5_target</strong> (<em>HDF5 Dataset</em>) – target dataset the references from h5_source are copied to</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.create_empty_dataset">
<code class="sig-name descname">create_empty_dataset</code><span class="sig-paren">(</span><em class="sig-param">source_dset</em>, <em class="sig-param">dtype</em>, <em class="sig-param">dset_name</em>, <em class="sig-param">h5_group=None</em>, <em class="sig-param">new_attrs=None</em>, <em class="sig-param">skip_refs=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#create_empty_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.create_empty_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an empty dataset in the h5 file based on the provided dataset in the same or specified group</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_dset</strong> (<em>h5py.Dataset object</em>) – Source object that provides information on the group and shape of the dataset</p></li>
<li><p><strong>dtype</strong> (<em>dtype</em>) – Data type of the fit / guess datasets</p></li>
<li><p><strong>dset_name</strong> (<em>String / Unicode</em>) – Name of the dataset</p></li>
<li><p><strong>h5_group</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code>, optional. Default = None) – Group within which this dataset will be created</p></li>
<li><p><strong>new_attrs</strong> (<em>dictionary</em><em> (</em><em>Optional</em><em>)</em>) – Any new attributes that need to be written to the dataset</p></li>
<li><p><strong>skip_refs</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Should ObjectReferences and RegionReferences be skipped when copying attributes from the
<cite>source_dset</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>h5_new_dset</strong> – Newly created dataset</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>h5py.Dataset object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.create_indexed_group">
<code class="sig-name descname">create_indexed_group</code><span class="sig-paren">(</span><em class="sig-param">h5_parent_group</em>, <em class="sig-param">base_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#create_indexed_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.create_indexed_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a group with an indexed name (eg - ‘Measurement_012’) under h5_parent_group using the provided base_name
as a prefix for the group’s name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_parent_group</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.File</span></code>) – File or group within which the new group will be created</p></li>
<li><p><strong>base_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>unicode</em>) – Prefix for the group name. This need not end with a ‘_’. It will be added automatically</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.create_results_group">
<code class="sig-name descname">create_results_group</code><span class="sig-paren">(</span><em class="sig-param">h5_main</em>, <em class="sig-param">tool_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#create_results_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.create_results_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a h5py.Group object autoindexed and named as ‘DatasetName-ToolName_00x’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_main</strong> (<em>h5py.Dataset object</em>) – Reference to the dataset based on which the process / analysis is being performed</p></li>
<li><p><strong>tool_name</strong> (<em>string / unicode</em>) – Name of the Process / Analysis applied to h5_main</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>h5_group</strong> – Results group which can now house the results datasets</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.find_dataset">
<code class="sig-name descname">find_dataset</code><span class="sig-paren">(</span><em class="sig-param">h5_group</em>, <em class="sig-param">dset_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#find_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.find_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses visit() to find all datasets with the desired name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_group</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code>) – Group to search within for the Dataset</p></li>
<li><p><strong>dset_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the dataset to search for</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>datasets</strong> – List of [Name, object] pairs corresponding to datasets that match <cite>ds_name</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.find_results_groups">
<code class="sig-name descname">find_results_groups</code><span class="sig-paren">(</span><em class="sig-param">h5_main</em>, <em class="sig-param">tool_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#find_results_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.find_results_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds a list of all groups containing results of the process of name <cite>tool_name</cite> being applied to the dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_main</strong> (<em>h5 dataset reference</em>) – Reference to the target dataset to which the tool was applied</p></li>
<li><p><strong>tool_name</strong> (<em>String / unicode</em>) – Name of the tool applied to the target dataset</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>groups</strong> – groups whose name contains the tool name and the dataset name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of references to <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code> objects</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.get_all_main">
<code class="sig-name descname">get_all_main</code><span class="sig-paren">(</span><em class="sig-param">parent</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#get_all_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.get_all_main" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple function to recursively print the contents of an hdf5 group</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code>) – HDF5 Group to search within</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. Default = False</em>) – If true, extra print statements (usually for debugging) are enabled</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>main_list</strong> – The datasets found in the file that meet the ‘Main Data’ criteria.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of h5py.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.get_source_dataset">
<code class="sig-name descname">get_source_dataset</code><span class="sig-paren">(</span><em class="sig-param">h5_group</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#get_source_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.get_source_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the name of the source dataset used to create the input <cite>h5_group</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>h5_group</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code>) – Child group whose source dataset will be returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>h5_source</strong> – Main dataset from which this group was generated</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>USIDataset object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.link_as_main">
<code class="sig-name descname">link_as_main</code><span class="sig-paren">(</span><em class="sig-param">h5_main</em>, <em class="sig-param">h5_pos_inds</em>, <em class="sig-param">h5_pos_vals</em>, <em class="sig-param">h5_spec_inds</em>, <em class="sig-param">h5_spec_vals</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#link_as_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.link_as_main" title="Permalink to this definition">¶</a></dt>
<dd><p>Links the object references to the four position and spectroscopic datasets as
attributes of <cite>h5_main</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_main</strong> (<em>h5py.Dataset</em>) – 2D Dataset which will have the references added as attributes</p></li>
<li><p><strong>h5_pos_inds</strong> (<em>h5py.Dataset</em>) – Dataset that will be linked with the name ‘Position_Indices’</p></li>
<li><p><strong>h5_pos_vals</strong> (<em>h5py.Dataset</em>) – Dataset that will be linked with the name ‘Position_Values’</p></li>
<li><p><strong>h5_spec_inds</strong> (<em>h5py.Dataset</em>) – Dataset that will be linked with the name ‘Spectroscopic_Indices’</p></li>
<li><p><strong>h5_spec_vals</strong> (<em>h5py.Dataset</em>) – Dataset that will be linked with the name ‘Spectroscopic_Values’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>USIDataset version of h5_main now that it is a USID Main dataset</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyUSID.USIDataset</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.validate_anc_h5_dsets">
<code class="sig-name descname">validate_anc_h5_dsets</code><span class="sig-paren">(</span><em class="sig-param">h5_inds</em>, <em class="sig-param">h5_vals</em>, <em class="sig-param">main_shape</em>, <em class="sig-param">is_spectroscopic=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#validate_anc_h5_dsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.validate_anc_h5_dsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks ancillary HDF5 datasets against shape of a main dataset.
Errors in parameters will result in Exceptions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_inds</strong> (<em>h5py.Dataset</em>) – HDF5 dataset corresponding to the ancillary Indices dataset</p></li>
<li><p><strong>h5_vals</strong> (<em>h5py.Dataset</em>) – HDF5 dataset corresponding to the ancillary Values dataset</p></li>
<li><p><strong>main_shape</strong> (<em>array-like</em>) – Shape of the main dataset expressed as a tuple or similar</p></li>
<li><p><strong>is_spectroscopic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>Optional. Default = True</em>) – set to True if <code class="docutils literal notranslate"><span class="pre">dims</span></code> correspond to Spectroscopic Dimensions. False otherwise.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.validate_dims_against_main">
<code class="sig-name descname">validate_dims_against_main</code><span class="sig-paren">(</span><em class="sig-param">main_shape</em>, <em class="sig-param">dims</em>, <em class="sig-param">is_spectroscopic=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#validate_dims_against_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.validate_dims_against_main" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks Dimension objects against a given shape for main datasets.
Errors in parameters will result in Exceptions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main_shape</strong> (<em>array-like</em>) – Tuple or list with the shape of the main data</p></li>
<li><p><strong>dims</strong> (<em>iterable</em>) – List of Dimension objects</p></li>
<li><p><strong>is_spectroscopic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>Optional. Default = True</em>) – set to True if <code class="docutils literal notranslate"><span class="pre">dims</span></code> correspond to Spectroscopic Dimensions. False otherwise.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.validate_main_dset">
<code class="sig-name descname">validate_main_dset</code><span class="sig-paren">(</span><em class="sig-param">h5_main</em>, <em class="sig-param">must_be_h5</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#validate_main_dset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.validate_main_dset" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to make sure that the provided object is a USID main dataset
Errors in parameters will result in Exceptions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_main</strong> (<em>h5py.Dataset</em><em> or </em><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a><em> or </em><em>Dask.array.core.array</em>) – object that represents the USID main data</p></li>
<li><p><strong>must_be_h5</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Set to True if the expecting an h5py.Dataset object.
Set to False if expecting a numpy.ndarray or Dask.array.core.array</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.write_ind_val_dsets">
<code class="sig-name descname">write_ind_val_dsets</code><span class="sig-paren">(</span><em class="sig-param">h5_parent_group</em>, <em class="sig-param">dimensions</em>, <em class="sig-param">is_spectral=True</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">base_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#write_ind_val_dsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.write_ind_val_dsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates h5py.Datasets for the position OR spectroscopic indices and values of the data.
Remember that the contents of the dataset can be changed if need be after the creation of the datasets.
For example if one of the spectroscopic dimensions (e.g. - Bias) was sinusoidal and not linear, The specific
dimension in the Spectroscopic_Values dataset can be manually overwritten.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_parent_group</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.File</span></code>) – Group under which the indices and values datasets will be created</p></li>
<li><p><strong>dimensions</strong> (<a class="reference internal" href="../pyUSID.io.write_utils.html#pyUSID.io.write_utils.Dimension" title="pyUSID.io.write_utils.Dimension"><em>Dimension</em></a><em> or </em><em>array-like of Dimension objects</em>) – Sequence of Dimension objects that provides all necessary instructions for constructing the indices and values
datasets</p></li>
<li><p><strong>is_spectral</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. default = True</em>) – Spectroscopic (True) or Position (False)</p></li>
<li><p><strong>verbose</strong> (<em>Boolean</em><em>, </em><em>optional</em>) – Whether or not to print statements for debugging purposes</p></li>
<li><p><strong>base_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>unicode</em><em>, </em><em>optional</em>) – Prefix for the datasets. Default: ‘Position’ when is_spectral is False, ‘Spectroscopic’ otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>h5_spec_inds</strong> (<em>h5py.Dataset</em>) – Dataset containing the position indices</p></li>
<li><p><strong>h5_spec_vals</strong> (<em>h5py.Dataset</em>) – Dataset containing the value at each position</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p><cite>steps</cite>, <cite>initial_values</cite>, <cite>labels</cite>, and ‘units’ must be the same length as
<cite>dimensions</cite> when they are specified.</p>
<p>Dimensions should be in the order from fastest varying to slowest.</p>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.write_reduced_anc_dsets">
<code class="sig-name descname">write_reduced_anc_dsets</code><span class="sig-paren">(</span><em class="sig-param">h5_parent_group</em>, <em class="sig-param">h5_inds</em>, <em class="sig-param">h5_vals</em>, <em class="sig-param">dim_name</em>, <em class="sig-param">basename=None</em>, <em class="sig-param">is_spec=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#write_reduced_anc_dsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.write_reduced_anc_dsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new Ancillary Indices and Values datasets from the input datasets by dropping the specified dimensions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_parent_group</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code> or h5py.File) – Group under which the indices and values datasets will be created</p></li>
<li><p><strong>h5_inds</strong> (<em>HDF5 Dataset</em>) – Spectroscopic or Positions indices dataset</p></li>
<li><p><strong>h5_vals</strong> (<em>HDF5 Dataset</em>) – Spectroscopic or Positions values dataset</p></li>
<li><p><strong>dim_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>unicode</em><em> or </em><em>list of strings</em>) – Names of the dimension(s) to remove</p></li>
<li><p><strong>basename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>unicode</em><em>, </em><em>Optional</em>) – String to which ‘_Indices’ and ‘_Values’ will be appended to get the names of the new datasets.
Default = ‘Position’ or ‘Spectroscopic’</p></li>
<li><p><strong>is_spec</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether or not the provided ancillary datasets are position or spectroscopic
The user is recommended to supply this parameter whenever it is known or possible.
By default, this function will attempt to recognize the answer based on the shape of the datasets.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. Default = False</em>) – Whether or not to print debugging print statements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>h5_inds_new</strong> (<em>h5py.Dataset</em>) – Reduced indices dataset</p></li>
<li><p><strong>h5_vals_new</strong> (<em>h5py.Dataset</em>) – Reduces values dataset</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyUSID.io.hdf_utils.simple.write_reduced_spec_dsets">
<code class="sig-name descname">write_reduced_spec_dsets</code><span class="sig-paren">(</span><em class="sig-param">h5_parent_group</em>, <em class="sig-param">h5_spec_inds</em>, <em class="sig-param">h5_spec_vals</em>, <em class="sig-param">dim_name</em>, <em class="sig-param">basename='Spectroscopic'</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/pyUSID/io/hdf_utils/simple.html#write_reduced_spec_dsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyUSID.io.hdf_utils.simple.write_reduced_spec_dsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new Spectroscopic Indices and Values datasets from the input datasets
and keeps the dimensions specified in keep_dim</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5_parent_group</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.Group</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">h5py.File</span></code>) – Group under which the indices and values datasets will be created</p></li>
<li><p><strong>h5_spec_inds</strong> (<em>HDF5 Dataset</em>) – Spectroscopic indices dataset</p></li>
<li><p><strong>h5_spec_vals</strong> (<em>HDF5 Dataset</em>) – Spectroscopic values dataset</p></li>
<li><p><strong>dim_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>unicode</em><em> or </em><em>list of strings</em>) – Names of the dimension(s) to remove</p></li>
<li><p><strong>basename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><em>unicode</em><em>, </em><em>Optional</em>) – String to which ‘_Indices’ and ‘_Values’ will be appended to get the names
of the new datasets</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional. Default = False</em>) – Whether or not to print debugging print statements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>h5_inds</strong> (<em>h5py.Dataset</em>) – Reduced Spectroscopic indices dataset</p></li>
<li><p><strong>h5_vals</strong> (<em>h5py.Dataset</em>) – Reduces Spectroscopic values dataset</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pyUSID.io.hdf_utils.model.html" class="btn btn-neutral float-right" title="pyUSID.io.hdf_utils.model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pyUSID.io.hdf_utils.base.html" class="btn btn-neutral float-left" title="pyUSID.io.hdf_utils.base" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Suhas Somnath, Chris R. Smith, Stephen Jesse

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>